<% content_for :title, "Admin - Album Details" %>

<div class="container mt-4">
  <div class="card">
    <div class="card-header">
      <h1 class="card-title">Album Details</h1>
    </div>
    <div class="card-body">
      <div class="row mb-3">
        <div class="col-md-3 fw-bold">Title:</div>
        <div class="col-md-9"><%= @album.title %></div>
      </div>
      <div class="row mb-3">
        <div class="col-md-3 fw-bold">Description:</div>
        <div class="col-md-9"><%= @album.description %></div>
      </div>
      <div class="row mb-3">
        <div class="col-md-3 fw-bold">User:</div>
        <div class="col-md-9"><%= @album.user.username %></div>
      </div>
      <div class="row mb-3">
        <div class="col-md-3 fw-bold">Sharing Mode:</div>
        <div class="col-md-9"><span class="badge bg-info"><%= @album.sharing_mode %></span></div>
      </div>
    </div>
    <div class="card-footer">
      <%= link_to 'Edit', edit_admin_album_path(@album), class: 'btn btn-primary' %>
      <%= link_to 'Back to Albums', admin_albums_path, class: 'btn btn-secondary' %>
    </div>
  </div>

  <h2 class="mt-4">Photos in this Album</h2>
  <div class="row">
    <% @album.photos.each do |photo| %>
      <div class="col-md-4 mb-3">
        <div class="card">
          <%= image_tag photo.image, class: 'card-img-top' if photo.image.attached? %>
          <div class="card-body">
            <h5 class="card-title"><%= photo.title %></h5>
            <p class="card-text"><%= truncate(photo.description, length: 100) %></p>
            <%= link_to 'View Photo', admin_photo_path(photo), class: 'btn btn-sm btn-info' %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>

<!-- Include Bootstrap JavaScript and Icons -->
<%= javascript_include_tag 'https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js', 'data-turbo-track': 'reload' %>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">